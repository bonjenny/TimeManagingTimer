# 📝 PRD: 업무 일정 기록 타이머 (Work Log Timer)

## 1. 제품 개요

* **핵심 목적:** 업무 몰입도를 높이고, 실시간 타이머와 간트 차트(Gantt Chart)를 결합하여 정교한 시간 추적 및 시각적 피드백 제공.
* **해결하고자 하는 페인 포인트:**
* 내가 오늘 무엇을 했는지 한눈에 파악하기 어려움.
* 작업 시간이 겹치거나 누락되는 경우 수동 수정이 번거로움.
* 반복되는 작업(프로젝트 코드, 작업명 등)을 매번 입력해야 하는 비효율.



---

## 2. 사용자 시나리오 (User Flow)

1. **작업 시작:** 왼쪽의 '작업 프리셋'을 클릭하거나 `F8` 단축키를 눌러 새 작업을 생성하고 타이머를 시작합니다.
2. **모니터링:** 상단의 일간 타임라인(간트 차트)에서 현재 진행 중인 작업의 비중을 실시간으로 확인합니다.
3. **상태 변경:** 작업 중 휴식이 필요하면 '일시정지'를, 작업이 끝나면 '완료' 버튼을 누릅니다.
4. **시간 수정:** 간트 차트의 막대(Bar) 양 끝을 드래그하여 실제 작업 시간과 기록된 시간의 오차를 수정합니다.
5. **기록 검토:** 하단의 작업 기록 목록에서 오늘 하루의 총 작업 시간 및 카테고리별 통계를 확인합니다.

---

## 3. 상세 기능 요구사항

### 3.1. 일간 타임라인 (Gantt Chart UI)

* **시각화:** 00:00~24:00 기준의 시간축에 작업별로 랜덤 컬러 막대 표시.
* **중첩 관리:** 동일 시간대에 작업이 겹칠 경우, 자동으로 줄을 나누어 분리 표시(Overlap handling).
* **인터랙션:**
* **Hover:** 작업명, 비고, 시간, 세션 횟수, 누적 시간을 툴팁으로 노출.
* **Resize:** 막대의 좌우 끝을 드래그하여 시작/종료 시간 변경.
* **Add:** 빈 공간을 드래그하여 해당 시간대의 새 작업 추가 팝업 호출.
* **Edit/Delete:** 더블 클릭 시 수정 팝업, 우클릭 시 삭제/수정 메뉴 노출.



### 3.2. 타이머 및 기록 로직

* **기록 방식:** * **자동:** 타이머 실행 시 초 단위로 기록 저장.
* **수동:** 간트 차트 드래그 또는 목록에서 직접 시간 입력.


* **유효성 검사 (핵심 개선 포인트):**
* 시간 수정 시 기존 작업 세션과 시간이 겹치면 '시간 충돌 알림' 노출.
* **자동 조정 기능:** 충돌 발생 시 기존 기록의 끝에 붙이거나, 5분 내외의 오차는 자동으로 인접 기록에 스냅(Snap)되는 옵션 제공.



### 3.3. 작업 입력 및 프리셋

* **입력 항목:** 프로젝트 코드, 작업명, 거래처(상세 작업), 업무명, 카테고리(개발, 회의, 분석 등), 비고.
* **데이터 연동:** * 프로젝트 코드 입력 시 로컬 스토리지에 저장된 관련 작업명 자동 완성.
* 최근 1주일간 사용된 거래처 및 업무명 리스트 제공.


* **단축키:** `F8`(작업 추가), `Enter`(목록에서 즉시 입력 및 시작).

---

## 4. UI/UX 개선 및 참고사항

* **유지할 패턴:** 영상의 직관적인 3단 구성(프리셋 | 간트 차트 | 리스트).
* **수정 및 보완:**
* **자동 시간 조정:** 시간 충돌 시 사용자가 일일이 수정하지 않도록 '자동 밀어내기' 또는 '겹침 허용 안 함' 로직 강화.
* **목록 직접 입력:** '새 작업 시작' 버튼을 누르지 않고도 리스트 최상단 빈칸에서 바로 텍스트 입력 후 엔터를 치면 타이머가 시작되는 UX.
* **상태 관리:** 휴지통(삭제된 작업)과 완료된 작업 목록을 별도 모달로 분리하여 메인 화면의 복잡도 감소.



---

## 5. 데이터 구조 (Technical Considerations)

| 필드명 | 데이터 타입 | 설명 |
| --- | --- | --- |
| `id` | UUID | 작업 고유 식별자 |
| `project_code` | String | 프로젝트 관리 코드 (A24_... 등) |
| `task_name` | String | 작업의 큰 제목 |
| `sub_task` | String | 상세 거래처 또는 세부 업무명 |
| `category` | Enum | 개발, 회의, 문서, 분석, 설계 등 |
| `sessions` | Array | `[{start, end}]` 형태의 실제 작업 시간 세그먼트 |
| `total_duration` | Number | 총 소요 시간 (분 단위 계산) |
| `status` | String | active, paused, completed, deleted |
| `created_at` | Date | 기록 날짜 |

---

## 💡 Edge Case 및 추가 고려사항

1. **자정을 넘기는 작업:** 밤 11시에 시작해 다음 날 새벽 1시에 끝나는 경우, 데이터를 어떻게 분할하여 보여줄 것인가? (일간 통계 합산 로직)
2. **브라우저 종료/새로고침:** 타이머가 돌아가는 중에 브라우저가 꺼지면 기록이 손실되지 않도록 `IndexedDB` 또는 `LocalStorage`에 실시간 자동 저장(Autosave) 로직이 필요합니다.
3. **동시 실행 방지:** 실수로 두 개 이상의 타이머를 동시에 실행할 경우, 기존 타이머를 자동으로 일시정지 시킬 것인지 아니면 병렬 기록을 허용할 것인지 결정이 필요합니다.
4. **오프라인 모드:** 네트워크 연결이 끊긴 상태에서도 기록이 가능하고, 나중에 서버와 동기화하는 로직이 필요한가요?

