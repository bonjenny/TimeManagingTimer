---
description: 프로젝트 버전 관리 및 문서화 워크플로우
alwaysApply: true
---

# 프로젝트 워크플로우 룰

## 버전 관리

### 버전 규칙
- **Major (X.0.0)**: 대규모 기능 추가 또는 Breaking Change
- **Minor (0.X.0)**: 새로운 기능 추가 (Step 단위)
- **Patch (0.0.X)**: 버그 수정, 작은 개선

### 작업 완료 시 체크리스트
매 Step 또는 주요 기능 완료 시 반드시 수행:

1. **버전 업데이트**: `package.json`의 version 필드 수정
2. **릴리즈 노트 작성**: `docs/releases/v{버전}.mdc`
3. **사용설명서 업데이트**: `docs/guides/v{버전}-guide.md`
4. **테스트케이스 작성**: `src/__tests__/` 폴더에 기능별 Jest 테스트 파일(`.test.tsx`) 작성 (Markdown 파일 금지)

---

## 릴리즈 노트 형식 (docs/releases/v{버전}.mdc)

```markdown
---
version: 0.1.0
date: YYYY-MM-DD
step: Step 1
---

# v0.1.0 릴리즈 노트

## 주요 변경사항
- 변경사항 1
- 변경사항 2

## 새로운 기능
- 기능 1
- 기능 2

## 버그 수정
- 수정 내용

## Breaking Changes
- 해당 시 작성

## 다음 버전 예정
- 예정 기능
```

---

## 사용설명서 형식 (docs/guides/v{버전}-guide.md)

```markdown
# TimeKeeper v0.1.0 사용설명서

## 목차
1. 시작하기
2. 주요 기능
3. 화면별 설명
4. FAQ

## 1. 시작하기
...

## 2. 주요 기능
...
```

---

## 테스트케이스 작성 규칙

테스트 케이스는 Markdown 문서가 아닌, 실제 실행 가능한 Jest 테스트 코드로 작성해야 합니다.

- 위치: `src/__tests__/components/` 또는 `src/__tests__/hooks/`
- 파일명: `*.test.tsx` 또는 `*.test.ts`
- 도구: Jest, @testing-library/react
- 커버리지: 주요 기능 및 시나리오 검증

```typescript
// 예시: src/__tests__/components/Example.test.tsx
import { render, screen } from '@testing-library/react';
import Example from '../../components/Example';

describe('Example Component', () => {
  it('renders correctly', () => {
    render(<Example />);
    expect(screen.getByText('Hello')).toBeInTheDocument();
  });
});
```

---

## 테스트 실행 필수 규칙

**기능 개발 또는 버그 수정 완료 시, 반드시 관련 테스트를 실행하고 성공 결과를 확인해야 합니다.**

### 테스트 실행 명령어
```bash
# 특정 테스트 파일 실행
npm test -- --testPathPattern="파일명"

# 예시: CategoryAutocomplete 관련 테스트
npm test -- --testPathPattern="CategoryAutocomplete"

# 전체 테스트 실행
npm test
```

### 테스트 실행 체크리스트
1. **관련 테스트 파일 식별**: 수정한 컴포넌트/기능에 해당하는 테스트 파일 확인
2. **테스트 실행**: `npm test -- --testPathPattern="파일명"` 실행
3. **성공 확인**: 모든 테스트가 PASS 상태인지 확인
4. **실패 시 수정**: 테스트 실패 시 코드 또는 테스트 수정 후 재실행
5. **결과 보고**: 테스트 성공 결과를 사용자에게 반환

### 테스트 실패 시 대응
- 테스트가 실패하면 **코드 수정 완료로 간주하지 않음**
- 실패 원인 분석 후 코드 수정 또는 테스트 케이스 수정
- 모든 테스트가 통과할 때까지 반복

---

## 작업 흐름 요약

```
기능 개발 완료
    ↓
package.json 버전 업데이트
    ↓
릴리즈 노트 작성 (docs/releases/)
    ↓
사용설명서 업데이트 (docs/guides/)
    ↓
테스트 코드 작성 (src/__tests__/)
    ↓
코드 커밋
```
